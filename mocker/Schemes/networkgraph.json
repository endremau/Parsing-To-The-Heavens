{
  "$schema": "http://json-schema.org/schema#",
  "$ref": "#/definitions/Graphs",
  "definitions": {
    "Graphs": {
      "type": "object",
      "additionalProperties": true,
      "required": [
        "collection"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["NetworkCollection"]
        },
        "collection": {
          "type": "array",
          "maxItems": 1,
          "items": {
            "$ref": "#/definitions/Graph"
          }
        }
      }
    },
    "Graph": {
      "type": "object",
      "additionalProperties": true,
      "required": [
        "type",
        "protocol",
        "version",
        "metric",
        "nodes",
        "links"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["NetworkGraph"]
        },
        "protocol": {
          "type": "string",
          "maxLength": 4,
          "pattern": "[A-Z]+"
        },
        "version": {
          "type": "string",
          "pattern": "[0-9][.][0-9][.][0-9][.][0-9]"
        },
        "revision": {
          "type": "string"
        },
        "metric": {
          "type": "string",
          "pattern": "[A-Z]{3}"
        },
        "router_id": {
          "type": "string"
        },
        "topology_id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "nodes": {
          "type": "array",
          "minItems":980,
          "uniqueItems": true,
          "title": "Nodes",
          "items": {
              "title": "Node",
            "type": "object",
            "additionalProperties": true,
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "type": "string",
                "pattern": "123[.]123[.]123[.][0-9]{3}"
              },
              "label": {
                "type": "string"
              },
              "local_addresses": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "properties": {
                "type": "object",
                "additionalProperties": true
                }
              }
            }
        },
        "links": {
            "type": "array",
            "title": "Links",
            "maxItems":10,
            "items": {
                "type": "object",
                "title": "Link",
                "additionalProperties": true,
                "required": [
                    "source",
                    "target",
                    "cost"
                ],
                "properties": {
                    "source": {
                        "type": "string",
                        "pattern": "123[.]123[.]123[.][0-9]{3}"
                    },
                    "target": {
                        "type": "string",
                        "pattern": "123[.]123[.]123[.][0-9]{3}"
                    },
                    "cost": {
                        "type": "number",
                        "minimum": 999999
                    },
                    "cost_text": {
                        "type": "string"
                    },
                    "properties": {
                        "type": "object",
                        "additionalProperties": true
                    }
                }
            }
        }
      }
    }
  }
}
